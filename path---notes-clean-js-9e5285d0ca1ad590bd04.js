webpackJsonp([82421098423974],{392:function(e,n){e.exports={data:{site:{siteMetadata:{title:"Nathan Birrell",author:"Nathan Birrell"}},markdownRemark:{id:"/Users/nathan/dev/nathanbirrell.github.io/src/pages/notes/clean-js/index.md absPath of file >>> MarkdownRemark",html:'<p><em>This is a transcript from <a href="http://nathanbirrell.me/clean-javascript">a presentation</a> I gave on <a href="https://www.amazon.com.au/Clean-Code-Robert-C-Martin/dp/0132350882">Clean Code</a>, applied to Javascript applications.</em></p>\n<p>This post is inspired by Martin Cronjé’s talk at LASTConf 2016 called “Establishing craftsmanship culture in a team.” The premise was that we have an education problem in software engineering: learning is unstructured, ad-hoc and programming is not treated as a “craft” in most organisations.</p>\n<p>Martin gave a few ideas on how to improve this, namely regular pair programming, deliberate practice (code retreats, coder dojos, etc.) and of course reading and sharing – which is what I’m doing here. These are my notes on chapters 1–4 of Robert (“Bob”) C Martin’s <em>Clean Code</em>, applied to Javascript.</p>\n<h2>Clean Code</h2>\n<p><strong>Clean code:</strong> code that is maintainable, readable, simple and tested. Developers always face this primal conundrum, that is, we know mess slows us down, yet we feel pressure to make messes in order to meet deadlines. In other words: we don’t make time to go fast.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/wtf-8f98eea132dda41a67111e56a775ffbd-7301f.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 537px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 92.17877094972066%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsSAAALEgHS3X78AAAB5ElEQVQ4y5WU6W4CMQyEef+3g59IINj75L6Wy+znatItRapqyUrWscf2xNmR9XI6nVyfzyefYX3f/yX4jticz2fb7Xa22Wzser36vm1bu1wutt/vbbvdupIUn7qurWkaV/zwv91uDuqABBZF4UGsWZbZer22OI6tqioH4BtwbOhyubQkSSzPc48BIwCqquPxaKvVyqvAARD2AB0OBz/XyhkFEEcM1Tvgfzj6xNlwHzj8dCCV3O/3wNOwoveCHPDxeDi5Qyc50jJt0hqtCxDe5E98uGUFwpkOhsIFcCkIoPCNLzYSsTIlP8aGzNwsAThBNqQj8/ncx4NkURR5dYCwpmnqF/SLQ4IJYgRwppWyLB1ksVh42/CHjaQkJzFtY1PyAEhFBE4mE5tOp34BgJN9Npt5AODY+B6Px54E1RyKOgfUhVCFhpzMCG1SNYAAwyGKjTP4Gz7ZAIiTjOINoT2CqZpOJIDRFWeyB0AIFqAOSIJAPM9PFQ59aFeT0TatJ3VA2lPpONC2WgYQCrquc840dyiJNBkAQpnPoYZXb5ZKdBEA8hMAECqoSj8RfLg4TUUA5ECzhQOHmi+CSaJ5xQ492DXQSF3V34D0jmpfFnn/e4qsyAuvMOs17avMsvyr4jgJNLy//xe2h286wX4s0wAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Code quality: number of WTFs per minute"\n        title="Code quality: number of WTFs per minute"\n        src="/static/wtf-8f98eea132dda41a67111e56a775ffbd-7301f.png"\n        srcset="/static/wtf-8f98eea132dda41a67111e56a775ffbd-aed24.png 148w,\n/static/wtf-8f98eea132dda41a67111e56a775ffbd-dbd3c.png 295w,\n/static/wtf-8f98eea132dda41a67111e56a775ffbd-7301f.png 537w"\n        sizes="(max-width: 537px) 100vw, 537px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<!-- <small>Code quality: number of WTFs per minute</small> -->\n<p>Every programmer has been slowed down by someone else’s – or, more likely, their own – messy code.</p>\n<h3>The total cost of owning a mess</h3>\n<p>“Fast teams” in the beginning become slow with complex, tangled and fragile codebases. All due to unforeseen consequences of scope changes, tight schedules, poor code readability, onboarding becomes a nightmare, the list goes on…</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/mess-fb97aa4b05c7ea0f06cdd00694d6a9af-bf397.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 397px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 56.42317380352645%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsSAAALEgHS3X78AAABhElEQVQoz4VS127CUAzN/38BSOwhsfcvlJemCi9IjBIlpUgESBgBQlTC6bXRjVJEW0uW41z7+HgoELJer7FcLmHbNna7Hbbb7VN9fIv6+/0eQRBAIUB60DQN8Xgc5XIZ9Xod1Wo1tLVa7VefviuVCnq9Hi6XCxTLsjAcDjGZTFAsFhGLxTiQgCmJgsmSL5OlT5a0VCqh2+3eAWezGVRVxXQ65cdUKoV0Oh2ykYnPACXTH4CGYWAwGICAZVAikUAymUSj0WBgstFWJXPpU14ISMvQdR2j0YgfoqDUPjHO5/M8DgkmmT6dIS3F932Mx2O0Wi3WdruNTqeDZrOJQqGATCbDNpfLMXMaCVn6n81m2VIhz/PugLTu4/EI13VDPRwObD1RlQKpi/l8zv/pKuTJOI6DzWbDJ8dnc7vd8Jecz2cE16tY2jvf6n/CDAk0qiQ0j9PphDf1Ff2XPgzTFGzsewHB5DFHqvJYQQK6ojVdbN40P/C5WGBlrYRaMMVVfAnG0diofANKxflETxllJgAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Severe diminishing returns on productivity over time"\n        title="Severe diminishing returns on productivity over time"\n        src="/static/mess-fb97aa4b05c7ea0f06cdd00694d6a9af-bf397.png"\n        srcset="/static/mess-fb97aa4b05c7ea0f06cdd00694d6a9af-18087.png 148w,\n/static/mess-fb97aa4b05c7ea0f06cdd00694d6a9af-ea495.png 295w,\n/static/mess-fb97aa4b05c7ea0f06cdd00694d6a9af-bf397.png 397w"\n        sizes="(max-width: 397px) 100vw, 397px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<h3>The boy scout rule</h3>\n<p>It’s a programmer’s job to defend the code, in the same way a manager defends their schedule and requirements. An easy way to start this is the boy scout rule:</p>\n<blockquote>\n<p>Leave the campground cleaner than you found it.</p>\n</blockquote>\n<h2>Meaningful names</h2>\n<p>Names of variables, functions and classes should:</p>\n<ul>\n<li>be meaningful</li>\n<li>be intention-revealing</li>\n<li>be pronounceable</li>\n<li>avoid disinformation (for example: accidental similarities, subtle name differences, puns)</li>\n</ul>\n<p>In general:</p>\n<ul>\n<li>use longer names for things with larger scope, it helps with searchability</li>\n<li>use nouns for classes/objects, verbs for functions/methods</li>\n<li>be consistent when naming around similar concepts (for example: ‘handle’ prefix before component event-handler methods in <code class="language-text">handleSubmit</code>)</li>\n<li>don’t hesistate to change poor names globaly. People are often afraid of renaming things for fear of objections, but we should be grateful when names change for the better.</li>\n</ul>\n<p>Good naming requires good descriptive skills and a shared cultural background in a team. It’s certainly not a <em>technical</em> issue as much as it is a teaching one.</p>\n<h2>Functions</h2>\n<p>A few useful guides on writing functions.</p>\n<h3>Make them smaller</h3>\n<p>The first rule of functions — according to Bob — is that they ought to be <strong>small</strong>. The second rule: even smaller. Functions can never be too small.</p>\n<p>Whilst this certainly makes a lot of sense in Java Land (this book is primarily based on Java examples), it holds true irrespective of your chosen technology.</p>\n<h3>One-line blocks</h3>\n<p>While I consider this one a bit extreme, it’s certainly a useful experiment: <strong>Keep blocks inside <code class="language-text">if</code>, <code class="language-text">else</code>, and loops to one line.</strong> The idea here being that it keeps your block tidy and provides documentary value, thanks to the descriptive naming.</p>\n<p>Practically, this one is hard to achieve, but more often than not you can break chunks of your block-level logic down.</p>\n<h3>Do one thing</h3>\n<p>(Pretty self explanatory.)</p>\n<h3>Abstraction</h3>\n<p>In general, it’s best to keep to one level of abstraction per function. From a reader’s perspective, this helps discern whether parts of expressions are essential concepts or details.</p>\n<h3>Read top-to-bottom</h3>\n<p>Functions should read like a narrative, in a logical top-to-bottom order.</p>\n<h3>Switch statements</h3>\n<p>Tricky to do <em>one</em> thing, by nature switch statements do <code class="language-text">n</code> things. Bury these in deeper/low-level functions.</p>\n<h3>DRY</h3>\n<p>Everyone should know <a href="https://en.wikipedia.org/wiki/Don%27t_repeat_yourself">this</a> one.</p>\n<!-- TODO: add notes on side effects, arguments and exceptions > error codes -->\n<h2>Comments</h2>\n<p>At best, comments are a nevessary evil.</p>\n<p>\n  <a\n    class="gatsby-resp-image-link"\n    href="/static/comments-843469b5a6b7dcca97bfd69467543516-320cb.png"\n    style="display: block"\n    target="_blank"\n    rel="noopener"\n  >\n  \n  <span\n    class="gatsby-resp-image-wrapper"\n    style="position: relative; display: block; ; max-width: 568px; margin-left: auto; margin-right: auto;"\n  >\n    <span\n      class="gatsby-resp-image-background-image"\n      style="padding-bottom: 64.7887323943662%; position: relative; bottom: 0; left: 0; background-image: url(\'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsSAAALEgHS3X78AAACCElEQVQ4y31TyWpqQRT00/yBrF2KfyG4cOFCXbpyI7gTF4oLQSREnGdFjTglOE9xJEaJU2Ll1YFrzOO9FEjfbs+prqruVl0uFxAcPz8/oUBZ//j4wGw2wy2azSZcLhe8Xi/u7+9xOp2uParbZqJeryORSMh3r9eDyWSC0WiEx+O51sRiMdjtdjidThn7/f434S1ZoVCATqeDRqPB+/s79Ho9HA6HKPT5fKJ2t9shm82i2+2KUhKOx2Ppp8MrodlshlqthsFgQLFYxGKxEFuBQADD4RC5XE4aqMbv90vN8XiE1Wq9OrpaLpVKuLu7g1arFWur1UpUTKdTpNNptFothMNhWadKxsL8SEoBtE5yQghTqRQsFotkRmss5q61Wg2hUAiZTEaIG42GREGiaDSKZDKJ5XKJ0WiE+Xz+Tbher2XhcDhIIbOhZRLSns1mQ6VSkXmn00G1WkW5XJY82UNC5WBUzOXx8RHtdluskIzNz8/PopKHEgwGpYlO8vm85EpCgmp5QPz/fD5DRXVk32w2sjOzIylzJaHb7cZgMBDLtK5sRLskjUQiiMfj4og5isLbS82M9vu9zElK1ZwrNVRBRQ8PDzJSIW+BAhV+AfOiqslkgr8fAJ1tt9sfL+t6sf/1I15fX/H09PTjaf0K5R7+XLv8t3n28iLh02q73ZGRdnlfu3/cbN7e8AXZ76fmRWL2kQAAAABJRU5ErkJggg==\'); background-size: cover; display: block;"\n    >\n      <img\n        class="gatsby-resp-image-image"\n        style="width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;"\n        alt="Don\'t comment bad code"\n        title=""\n        src="/static/comments-843469b5a6b7dcca97bfd69467543516-320cb.png"\n        srcset="/static/comments-843469b5a6b7dcca97bfd69467543516-a8a9b.png 148w,\n/static/comments-843469b5a6b7dcca97bfd69467543516-90bc6.png 295w,\n/static/comments-843469b5a6b7dcca97bfd69467543516-320cb.png 568w"\n        sizes="(max-width: 568px) 100vw, 568px"\n      />\n    </span>\n  </span>\n  \n  </a>\n    </p>\n<p>Bob’s reasoning:</p>\n<ul>\n<li>comments often lie because programmers can’t realistically maintain them</li>\n<li>comments don’t make up for bad code</li>\n<li>clear/expressive code with few comments is always better than complex code with lots of comments</li>\n</ul>\n<p>Some legitimate use cases for comments:</p>\n<ul>\n<li>legal comments, licensing and the like</li>\n<li>explanation of intent</li>\n<li>clarification of obsure code or workarounds</li>\n<li>warning of consequences</li>\n<li><code class="language-text">TODO</code>s</li>\n</ul>\n<p>In general, if you feel you need to comment, try improving/adding a function or variable name instead.</p>\n<h2>Write code for humans, not computers</h2>\n<p>Hopefully these notes give you some ideas for your daily practice. The eternal tradeoff between short-term loss and long-term benefits will remain persistent, but remember: write code for humans, not computers.</p>\n<p>As this is only the first four chapters, to read on about formatting, objects and data structures, error handling, boundaries, unit tests and concurrency, go on to read <a href="https://www.amazon.com.au/Clean-Code-Robert-C-Martin/dp/0132350882">Clean Code</a> yourself.</p>',frontmatter:{title:"Clean Javascript",date:"October 10, 2016",hide:null}}},pathContext:{slug:"/notes/clean-js/",previous:null,next:{fields:{slug:"/notes/typescript-key-types/"},frontmatter:{title:"Define key types in Typescript interfaces"}}}}}});
//# sourceMappingURL=path---notes-clean-js-9e5285d0ca1ad590bd04.js.map